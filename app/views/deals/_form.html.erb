<%= form_with(model: deal, url: category_deals_path(@category)) do |form| %>
  <div class="d-flex w-100 mb-5">
    <ul class="nav justify-content-between w-100 px-2 pt-2">
      <li class="nav-item link-light">
        <%= link_to '&larr;'.html_safe, category_deals_path(@category), class: "text-decoration-none text-white" %>
      </li>
      <li class="nav-item">
        <p class="nav-link link-light">ADD A NEW TRANSACTION</p>
      </li>
      <li class="nav-item link-light">
        <%= form.submit "Save", class:"nav-link bg-transparent border-0 text-decoration-none text-white" %>
      </li>
    </ul>
  </div>

  <%= render "partials/message" %>

  <% if deal.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(deal.errors.count, "error") %> prohibited this deal from being saved:</h2>

      <ul>
        <% deal.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= form.text_field :name, class: "form-control border-0 border-bottom rounded-0 mx-3 px-0 w-100", placeholder: "Transaction name" %>
  </div>

  <div class="form-group">
    <%= form.text_field :amount, class: "form-control border-0 border-bottom rounded-0 mx-3 px-0 w-100", placeholder: "Amount" %>
  </div>
  <div class="form-check form-check-inline m-3">
    <%= form.check_box :category_ids, {multiple: true, checked: true}, @category.id, nil %>
    <label class="form-check-label mr-5 mb-5 active">
      <%= image_tag(@category.icon.file_name, alt: @category.icon.name, width: "50") %>
    </label>
    <% @other_categories.each do |category| %>
      <%= form.check_box :category_ids, {multiple: true}, category.id, nil %>
      <label class="form-check-label mr-5 mb-5">
        <%= image_tag(category.icon.file_name, alt: category.icon.name, width: "50") %>
      </label>
    <% end %>
  </div>
<% end %>
